<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="523px" preserveAspectRatio="none" style="width:472px;height:523px;background:#FFFFFF;" version="1.1" viewBox="0 0 472 523" width="472px" zoomAndPan="magnify"><defs><filter height="300%" id="f16lhyf4r3dosz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="172" x="143.5" y="16.708">Index (ISP refactor)</text><!--MD5=[88bd1797aa51b7eb596ab9c2cedac94c]
cluster edu.tec.ic6821.fulltextsearch--><polygon fill="#FFFFFF" filter="url(#f16lhyf4r3dosz)" points="16,26.9531,256,26.9531,263,49.25,455,49.25,455,516.9531,16,516.9531,16,26.9531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="263" y1="49.25" y2="49.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="234" x="20" y="41.9482">edu.tec.ic6821.fulltextsearch</text><!--MD5=[2265efe58f509802ec1fe9822d1e6e2b]
cluster index--><polygon fill="#FFFFFF" filter="url(#f16lhyf4r3dosz)" points="40,69.9531,90,69.9531,97,92.25,431,92.25,431,492.9531,40,492.9531,40,69.9531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="40" x2="97" y1="92.25" y2="92.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="44" x="44" y="84.9482">index</text><!--MD5=[15b9a87b033c6044cf0e9bbdacb18726]
class Index--><rect codeLine="8" fill="#FEFECE" filter="url(#f16lhyf4r3dosz)" height="86.4141" id="Index" style="stroke:#A80036;stroke-width:1.5;" width="195" x="136.5" y="104.9531"/><ellipse cx="212.75" cy="120.9531" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M209.1719,116.7344 L209.1719,114.4531 L216.5625,114.4531 L216.5625,116.7344 L214.0938,116.7344 L214.0938,125.1875 L216.5625,125.1875 L216.5625,127.4531 L209.1719,127.4531 L209.1719,125.1875 L211.6406,125.1875 L211.6406,116.7344 L209.1719,116.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="34" x="233.25" y="125.1074">Index</text><line style="stroke:#A80036;stroke-width:1.5;" x1="137.5" x2="330.5" y1="136.9531" y2="136.9531"/><line style="stroke:#A80036;stroke-width:1.5;" x1="137.5" x2="330.5" y1="144.9531" y2="144.9531"/><ellipse cx="147.5" cy="155.9531" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="158" x="156.5" y="159.1636">index(String term, File):void</text><ellipse cx="147.5" cy="168.7578" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="169" x="156.5" y="171.9683">search(String term):Set&lt;File&gt;</text><ellipse cx="147.5" cy="181.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="156.5" y="184.7729">isPersistent():boolean</text><!--MD5=[896558809a65a66364a101265d6caaf4]
class PersistentIndex--><rect codeLine="14" fill="#FEFECE" filter="url(#f16lhyf4r3dosz)" height="73.6094" id="PersistentIndex" style="stroke:#A80036;stroke-width:1.5;" width="125" x="56.5" y="251.9531"/><ellipse cx="71.5" cy="267.9531" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M67.9219,263.7344 L67.9219,261.4531 L75.3125,261.4531 L75.3125,263.7344 L72.8438,263.7344 L72.8438,272.1875 L75.3125,272.1875 L75.3125,274.4531 L67.9219,274.4531 L67.9219,272.1875 L70.3906,272.1875 L70.3906,263.7344 L67.9219,263.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="93" x="85.5" y="272.1074">PersistentIndex</text><line style="stroke:#A80036;stroke-width:1.5;" x1="57.5" x2="180.5" y1="283.9531" y2="283.9531"/><line style="stroke:#A80036;stroke-width:1.5;" x1="57.5" x2="180.5" y1="291.9531" y2="291.9531"/><ellipse cx="67.5" cy="302.9531" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="76.5" y="306.1636">persist():void</text><ellipse cx="67.5" cy="315.7578" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="98" x="76.5" y="318.9683">restore():boolean</text><!--MD5=[587a74f44ccd1f6f7285247a7be3e6b9]
class InMemoryMapIndex--><rect codeLine="19" fill="#FEFECE" filter="url(#f16lhyf4r3dosz)" height="60.8047" id="InMemoryMapIndex" style="stroke:#A80036;stroke-width:1.5;" width="198" x="217" y="258.4531"/><ellipse cx="253.15" cy="274.4531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M255.6188,280.3281 Q255.0406,280.6406 254.4,280.7969 Q253.7594,280.9531 253.0563,280.9531 Q250.5563,280.9531 249.2281,279.2813 Q247.9156,277.6094 247.9156,274.4531 Q247.9156,271.2969 249.2281,269.625 Q250.5563,267.9531 253.0563,267.9531 Q253.7594,267.9531 254.4,268.1094 Q255.0563,268.2656 255.6188,268.5781 L255.6188,271.375 Q254.9938,270.8125 254.4,270.5469 Q253.8063,270.2656 253.1813,270.2656 Q251.8375,270.2656 251.15,271.3281 Q250.4625,272.3906 250.4625,274.4531 Q250.4625,276.5313 251.15,277.5938 Q251.8375,278.6406 253.1813,278.6406 Q253.8063,278.6406 254.4,278.375 Q254.9938,278.1094 255.6188,277.5313 L255.6188,280.3281 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="119" x="271.85" y="278.6074">InMemoryMapIndex</text><line style="stroke:#A80036;stroke-width:1.5;" x1="218" x2="414" y1="290.4531" y2="290.4531"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="225" y="298.4531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="172" x="237" y="304.6636">index:Map&lt;String, Set&lt;File&gt;&gt;</text><line style="stroke:#A80036;stroke-width:1.5;" x1="218" x2="414" y1="311.2578" y2="311.2578"/><!--MD5=[cb9bb2482726ddd12b50b902a735724a]
class MapIndex--><rect codeLine="23" fill="#FEFECE" filter="url(#f16lhyf4r3dosz)" height="73.6094" id="MapIndex" style="stroke:#A80036;stroke-width:1.5;" width="111" x="162.5" y="402.9531"/><ellipse cx="186.5" cy="418.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M188.9688,424.8281 Q188.3906,425.1406 187.75,425.2969 Q187.1094,425.4531 186.4063,425.4531 Q183.9063,425.4531 182.5781,423.7813 Q181.2656,422.1094 181.2656,418.9531 Q181.2656,415.7969 182.5781,414.125 Q183.9063,412.4531 186.4063,412.4531 Q187.1094,412.4531 187.75,412.6094 Q188.4063,412.7656 188.9688,413.0781 L188.9688,415.875 Q188.3438,415.3125 187.75,415.0469 Q187.1563,414.7656 186.5313,414.7656 Q185.1875,414.7656 184.5,415.8281 Q183.8125,416.8906 183.8125,418.9531 Q183.8125,421.0313 184.5,422.0938 Q185.1875,423.1406 186.5313,423.1406 Q187.1563,423.1406 187.75,422.875 Q188.3438,422.6094 188.9688,422.0313 L188.9688,424.8281 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="59" x="202.5" y="423.1074">MapIndex</text><line style="stroke:#A80036;stroke-width:1.5;" x1="163.5" x2="272.5" y1="434.9531" y2="434.9531"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="170.5" y="442.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="182.5" y="449.1636">indexFile:File</text><line style="stroke:#A80036;stroke-width:1.5;" x1="163.5" x2="272.5" y1="455.7578" y2="455.7578"/><ellipse cx="173.5" cy="466.7578" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="182.5" y="469.9683">MapIndex(:File)</text><!--MD5=[a99bb1714d921ba862f49513019f06e1]
reverse link Index to InMemoryMapIndex--><path codeLine="28" d="M269.14,208.5131 C279.3,225.7431 289.96,243.8131 298.54,258.3531 " fill="none" id="Index-backto-InMemoryMapIndex" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="262.96,211.8131,258.83,191.0331,275.02,204.7031,262.96,211.8131" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0c874146360031182338019c634bc291]
reverse link Index to PersistentIndex--><path codeLine="29" d="M186.36,206.5331 C173.73,221.8031 160.44,237.8731 149.03,251.6531 " fill="none" id="Index-backto-PersistentIndex" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="181.04,201.9831,199.18,191.0331,191.83,210.9031,181.04,201.9831" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6a85c328b2231678e545c17e42a32b80]
reverse link PersistentIndex to MapIndex--><path codeLine="30" d="M154.06,342.7231 C167.25,362.5831 181.94,384.6831 193.91,402.7031 " fill="none" id="PersistentIndex-backto-MapIndex" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="148.2,346.5531,142.97,326.0231,159.86,338.8031,148.2,346.5531" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[455e98b8535b90a0b4fa3e8ae07c0d78]
reverse link InMemoryMapIndex to MapIndex--><path codeLine="31" d="M293.57,324.0531 C278.07,347.6231 257.49,378.9231 241.71,402.8931 " fill="none" id="InMemoryMapIndex-backto-MapIndex" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="296.4,319.7431,288.1215,325.0785,293.6595,323.9252,294.8128,329.4632,296.4,319.7431" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="270" y="369.02">index</text><!--MD5=[7201dfc83de7af53db133e86d4800659]
@startuml

title Index (ISP refactor)

package edu.tec.ic6821.fulltextsearch {

    package index {

        interface Index {
            + index(String term, File):void
            + search(String term):Set<File>
            + isPersistent():boolean
        }

        interface PersistentIndex {
            + persist():void
            + restore():boolean
        }

        class InMemoryMapIndex {
            - index:Map<String, Set<File>>
        }

        class MapIndex {
            - indexFile:File
            + MapIndex(:File)
        }

        Index <|.. InMemoryMapIndex
        Index <|- - PersistentIndex
        PersistentIndex <|.. MapIndex
        InMemoryMapIndex <- - MapIndex :index
    }
}

@enduml

PlantUML version 1.2021.7(Sun May 23 06:40:07 CST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>